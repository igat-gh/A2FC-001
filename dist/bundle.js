!function(t){function n(o){if(e[o])return e[o].exports;var r=e[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";var o=e(1),r=e(2),i=e(3),a="ddb1f0abb0c8107ef81e20d834d797a2",u=50,c="app",s=function(t){return function(n){var e=n.coords.latitude,o=n.coords.longitude;return{lat:e,lon:o,cnt:t}}},d=function(t){return{type:"Feature",properties:{city:t.name,weather:t.weather[0].main,temperature:t.main.temp,min:t.main.temp_min,max:t.main.temp_max,humidity:t.main.humidity,pressure:t.main.pressure,windSpeed:t.wind.speed,windDegrees:t.wind.deg,windGust:t.wind.gust,icon:"http://openweathermap.org/img/w/"+t.weather[0].icon+".png",coordinates:[t.coord.lon,t.coord.lat]},geometry:{type:"Point",coordinates:[t.coord.lon,t.coord.lat]}}},p=i.initMap(document.getElementById(c),{center:{lat:0,lng:0},zoom:4}),l={map:p,geoposition:null,weather:[]};o.getCurrentPosition().then(function(t){l.geoposition=t;var n=l.geoposition.coords,e=n.latitude,o=n.longitude;return p.setCenter({lat:e,lng:o}),p.setZoom(12),s(u)(t)}).then(function(t){return r.getWeatherForCitiesInCycle(a)(t)}).then(function(t){l.weather=t.list,console.log(t),t.list.map(d).forEach(i.drawIcons.bind(null,p))}).catch(function(t){console.log(t)})},function(t,n){"use strict";var e={enableHighAccuracy:!0};n.getCurrentPosition=function(t){return void 0===t&&(t=e),new Promise(function(n,e){var o=function(t){return n(t)},r=function(t){return e(t)};navigator.geolocation.getCurrentPosition(o,r,t)})}},function(t,n){"use strict";var e="http://api.openweathermap.org/data/2.5/";n.iconsRoot="http://openweathermap.org/img/w/",n.getWeatherForCitiesInCycle=function(t){return function(n){var e="find",r=o(t,e,n);return fetch(r).then(function(t){return t.json()})}};var o=function(t,n,o){var r=""+e+n+"?appid="+t+"&",i=Object.keys(o).map(function(t){return t+"="+o[t]}).join("&");return r+i}},function(t,n){"use strict";n.initMap=function(t,n){var e=new google.maps.Map(t,n);return e.data.setStyle(function(t){return{icon:{url:t.getProperty("icon"),anchor:new google.maps.Point(25,25)}}}),e},n.drawIcons=function(t,n){return t.data.addGeoJson(n),t}}]);
//# sourceMappingURL=bundle.js.map